<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>

<head>
<title>Глава 9. Пункт 4</title>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<script src="script.js" type="text/javascript"></script>
</head>

<body bgColor="#fff5ee">

<p align="center"><a href="ch9_3.htm">Назад</a> | <a href="index.htm">Содержание</a>
| <a href="ch9_5.htm">Вперёд</a></p>
<a name="tn109"><script language="JavaScript">double_line();</script>


<h4>9. 4.&nbsp;&nbsp;&nbsp; <span id="t109">Отображение деревьев</span></h4>

<p>Так же, как и любые объекты данных в Прологе,
двоичное дерево Т может быть непосредственно
выведено на печать при помощи встроенной
процедуры <strong>write</strong>. Однако цель</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>write( Т)</strong></p>

<p>хотя и отпечатает всю информацию, содержащуюся
в дереве, но действительная структура дерева
никак при этом не будет выражена графически.
Довольно утомительная работа - пытаться
представить себе структуру дерева, рассматривая
прологовский терм, которым она представлена.
Поэтому во многих случаях желательно иметь
возможность отпечатать дерево в такой форме,
которая графически соответствует его структуре.</p>

<p>Существует относительно простой способ это
сделать. Уловка состоит в том, чтобы изображать
дерево растущим слева направо, а не сверху вниз,
как обычно. Дерево нужно повернуть влево таким
образом, чтобы корень стал его крайним слева
элементом, а листья сдвинулись вправо (рис. 9.16).</p>

<p align="center"><img src="pic/fig9_16.gif" width="508" height="292"
alt="fig9_16.gif (3774 bytes)"></p>

<p align="center"><small><strong>Рис. 9. 16.</strong>&nbsp;&nbsp;&nbsp; (а)
&nbsp;&nbsp;&nbsp; Обычное изображение дерева. &nbsp;&nbsp;&nbsp;
(b)&nbsp;&nbsp;&nbsp; То же дерево,</small><br>
<small>отпечатанное процедурой <strong>отобр</strong> (дуги
добавлены для ясности).</small></p>

<p>Давайте определим процедуру</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>отобр( Т)</strong></p>

<p>так, чтобы она отображала дерево в форме,
показанной на рис. 9.16. Принцип работы этой
процедуры:</p>
<script language="JavaScript">line();</script>


<p>Для того, чтобы отобразить непустое дерево Т,
необходимо:</p>

<p>(1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; отобразить правое
поддерево дерева Т с отступом вправо на
расстояние Н;</p>

<p>(2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; отпечатать корень
дерева Т;</p>

<p>(3)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; отобразить левое
поддерево дерева Т с отступом вправо на
расстояние Н.</p>
<script language="JavaScript">line();</script>


<p>Величина отступа Н, которую можно выбирать по
желанию, - это дополнительный параметр при
отображении деревьев. Введем процедуру</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>отобр2( Т, Н)</strong></p>

<p>печатающую дерево Т с отступом на Н пробелов от
левого края листа. Связь между процедурами <strong>отобр</strong>
и <strong>отобр2</strong> такова:</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>отобр( Т) :- отобр2( Т,
0).</strong></p>

<p>На рис. 9.17 показана программа целиком. В этой
программе предусмотрен сдвиг на 2 позиции для
каждого уровня дерева. Описанный принцип
отображения можно легко приспособить для
деревьев других типов.</p>
<script language="JavaScript">line();</script>


<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>отобр( Т) :-<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
отобр2( Т, 0).</strong></p>

<p><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; отобр2( nil, _ ).</strong></p>

<p><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; отобр2( дер( L, X, R),
Отступ) :-<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Отступ2 is Отступ + 2,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
отобр2( R, Отступ2),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
tab( Отступ), write( X), nl,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
отобр( L, Отступ2).</strong></p>
<script language="JavaScript">line();</script>


<p align="center"><small><strong>Рис. 9. 17.</strong>&nbsp; Отображение
двоичного дерева.</small></p>

<h4>Упражнение</h4>

<p><strong>9. 14.</strong>&nbsp;&nbsp;&nbsp; Наша процедура
изображает дерево, ориентируя его необычным
образом: корень находится слева, а листья -
справа. Напишите (более сложную) процедуру для
отображения дерева, ориентированного обычным
образом, т.е. с корнем наверху и листьями внизу.</p>
</a>

<p><a href="javascript:fa('9_14')">Посмотреть ответ</a></p>

<hr>

<p align="center"><a href="ch9_3.htm">Назад</a> | <a href="index.htm">Содержание</a>
| <a href="ch9_5.htm">Вперёд</a></p>
</body>
<script language="JavaScript">

hl();

</script>

</html>
