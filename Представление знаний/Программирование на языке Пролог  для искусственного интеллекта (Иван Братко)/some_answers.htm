<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>

<head>
<title>Ответы к некоторым упражнениям</title>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<script src="script.js" type="text/javascript"></script>
</head>

<body bgColor="#fff5ee">

<p align="center"><a href="ch16_4.htm">Назад</a> | <a href="index.htm">Содержание</a>
| <a href="glossary.htm">Вперёд</a></p>

<hr>

<h3>ОТВЕТЫ К НЕКОТОРЫМ УПРАЖНЕНИЯМ</h3>

<h4>Глава <a name="ap1_1">1</a></h4>
<div id="ad1_1">

<h4 id="ah1_1">1. 1</h4>

<p>(a)&nbsp;&nbsp;&nbsp; <strong>no</strong><br>
(b)&nbsp;&nbsp;&nbsp; <strong>X = пат</strong>&nbsp;&nbsp;&nbsp; <br>
(c)&nbsp;&nbsp;&nbsp; <strong>X = боб</strong><br>
(d)&nbsp;&nbsp;&nbsp; <strong>X = боб,&nbsp;&nbsp;&nbsp; Y = <a name="ap1_2">пат</a></strong></p>
</div><div id="ad1_2">

<h4 id="ah1_2">1. 2</h4>

<p>(a)&nbsp;&nbsp;&nbsp; <strong>?-&nbsp; родитель( X, пат).</strong><br>
(b)&nbsp;&nbsp;&nbsp; <strong>?-&nbsp; родитель( лиз, X).</strong><br>
(c)&nbsp;&nbsp;&nbsp; <strong>?-&nbsp; родитель( Y, пат), &nbsp;&nbsp;&nbsp;
родитель( X, Y)<a name="ap1_3">.</a></strong></p>
</div><div id="ad1_3">

<h4 id="ah1_3">1. 3</h4>

<p>(a)&nbsp;&nbsp;&nbsp; <strong>счастлив( X) :-<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
родитель( X, Y).</strong><br>
<br>
(b)&nbsp;&nbsp;&nbsp; <strong>имеетдвухдетей( X) :-<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
родитель( X, Y),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
сестра( Z, Y)<a name="ap1_4">.</a></strong></p>
</div><div id="ad1_4">

<h4 id="ah1_4">1. 4</h4>

<p><strong>внук( X, Z) :-<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; родитель( Y, X),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; родитель( Z, Y)<a name="ap1_5">.</a></strong></p>
</div><div id="ad1_5">

<h4 id="ah1_5">1. 5</h4>

<p><strong>тетя( X, Y) :-<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; родитель( Z, Y),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; сестра( X, Z)<a name="ap1_6">.</a></strong></p>
</div><div id="ad1_6">

<h4 id="ah1_6">1. 6</h4>

<p>Да.&nbsp;&nbsp;&nbsp; (Определение <a name="ap1_7">верно)</a></p>
</div><div id="ad1_7">

<h4 id="ah1_7">1. 7</h4>

<p>(a)&nbsp;&nbsp;&nbsp; возвратов не будет<br>
(b)&nbsp;&nbsp;&nbsp; возвратов не будет<br>
(c)&nbsp;&nbsp;&nbsp; возвратов не будет<br>
(d)&nbsp;&nbsp;&nbsp; возвраты будут </p>
</div>

<h4>Глава <a name="ap2_1">2</a></h4>
<div id="ad2_1">

<h4 id="ah2_1">2. 1</h4>

<p>(a)&nbsp;&nbsp;&nbsp; переменная<br>
(b)&nbsp;&nbsp;&nbsp; атом<br>
(c)&nbsp;&nbsp;&nbsp; атом<br>
(d)&nbsp;&nbsp;&nbsp; переменная<br>
(e)&nbsp;&nbsp;&nbsp; атом<br>
(f)&nbsp;&nbsp;&nbsp; структура<br>
(g)&nbsp;&nbsp;&nbsp; число<br>
(h)&nbsp;&nbsp;&nbsp; синтаксически неправильное
выражение<br>
(i)&nbsp;&nbsp;&nbsp; структура<br>
(j)&nbsp;&nbsp;&nbsp; <a name="ap2_3">структура</a></p>
</div><div id="ad2_3">

<h4 id="ah2_3">2. 3</h4>

<p>(a)&nbsp;&nbsp;&nbsp; успех<br>
(b)&nbsp;&nbsp;&nbsp; неуспех<br>
(c)&nbsp;&nbsp;&nbsp; неуспех<br>
(d)&nbsp;&nbsp;&nbsp; D = 2,&nbsp;&nbsp;&nbsp; Е = 2<br>
(e)&nbsp;&nbsp;&nbsp; <strong>Р1 = точка(-1, 0)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Р2 = точка( 1, 0)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Р3 = точка( 0, Y)</strong><br>
</p>

<p>Такая конкретизация определяет семейство
треугольников, у которых две вершины
располагаются на оси <em>х</em> в точках 1 и -1, а
третья - в произвольной точке оси <em>у</em><a name="ap2_4">.</a></p>
</div><div id="ad2_4">

<h4 id="ah2_4">2. 4</h4>

<p><strong>отр( точка( 5, Y1),&nbsp;&nbsp;&nbsp; точка( 5, Y2) <a
name="ap2_5">)</a></strong></p>
</div><div id="ad2_5">

<h4 id="ah2_5">2. 5</h4>

<p><strong>регулярный( прямоугольник( точка( X1, Y1),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
точка( Х2, Y1), точкa( X2, Y3),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
точка( X1, Y3) ) ).</strong></p>

<p>Здесь предполагается, что первая точка
соответствует нижней левой вершине
прямоугольника<a name="ap2_6">.</a></p>
</div><div id="ad2_6">

<h4 id="ah2_6">2. 6</h4>

<p>(a)&nbsp;&nbsp;&nbsp; <strong>А = два</strong><br>
(b)&nbsp;&nbsp;&nbsp; <strong>no</strong><br>
(c)&nbsp;&nbsp;&nbsp; <strong>С = один</strong><br>
(d)&nbsp;&nbsp;&nbsp; <strong>D = s(s(1));<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; D = s(s(s(s(s(1))))<a name="ap2_7">)</a></strong></p>
</div><div id="ad2_7">

<h4 id="ah2_7">2. 7</h4>

<p><strong>родственники( X, Y) :-<br>
&nbsp;&nbsp;&nbsp; предок( X, Y);<br>
&nbsp;&nbsp;&nbsp; предок( Y, X);<br>
&nbsp;&nbsp;&nbsp; предок( Z, X),<br>
&nbsp;&nbsp;&nbsp; предок( Z, Y);<br>
&nbsp;&nbsp;&nbsp; предок( X, Z),<br>
&nbsp;&nbsp;&nbsp; предок( Y, Z)<a name="ap2_8">.</a></strong></p>
</div><div id="ad2_8">

<h4 id="ah2_8">2. 8</h4>

<p><strong>преобразовать( 1, один).<br>
преобразовать( 2, два).<br>
преобразовать( 3, три)<a name="ap2_9">.</a></strong></p>
</div><div id="ad2_9">

<h4 id="ah2_9">2. 9</h4>

<p>В случае, изображенном на рис. 2.10,
пролог-система выполняет несколько больший
объем работы<a name="ap2_10">.</a></p>
</div><div id="ad2_10">

<h4 id="ah2_10">2. 10</h4>

<p>В соответствии с определением сопоставления,
приведенном в разд. 2.2, данное сопоставление
будет успешным. X приобретает вид циклической
структуры, в которой сам X присутствует в
качестве одного из аргументов. </p>
</div>

<h4>Глава <a name="ap3_1">3</a></h4>
<div id="ad3_1">

<h4 id="ah3_1">3. 1</h4>

<p>(a)&nbsp;&nbsp;&nbsp; <strong>конк( L1, [ _, _, _ ], L)</strong></p>

<p>(b)&nbsp;&nbsp;&nbsp; <strong>конк( [ _, _, _ ], L1, L),</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Удалить 3 первые элемента L</small><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>конк( L2, [ _, _, _ ], L1)</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Удалить 3 последние элемента L1</small></p>

<p>Вот более короткий вариант, предложенный I. Tvrdy:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>конк( [ _, _, _ | L2], [ _, _, _
], L<a name="ap3_2">)</a></strong></p>
</div><div id="ad3_2">

<h4 id="ah3_2">3. 2</h4>

<p>(а)&nbsp;&nbsp;&nbsp; <strong>последний( Элемент, Список) :-<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; конк( _, [Элемент], Список).</strong><br>
<br>
(b)&nbsp;&nbsp;&nbsp; <strong>последний( Элемент, [Элемент]).</strong></p>

<p><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; последиий( Элемент,
[Первый | Остальные]):-<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; последний( Элемент,
Остальные)<a name="ap3_3">.</a></strong></p>
</div><div id="ad3_3">

<h4 id="ah3_3">3. 3</h4>

<p><strong>четнаядлина( [ ] ).</strong></p>

<p><strong>четнаядлина( [Первый | Остальные] ) :-<br>
&nbsp;&nbsp;&nbsp; нечетнаядлина( Остальные).</strong></p>

<p><strong>нечетнаядлина( [ _ ] ).</strong></p>

<p><strong>нечетнаядлина( [Первый | Остальные] ) :-<br>
&nbsp;&nbsp;&nbsp; четнаядлина( Остальные)<a name="ap3_4">.</a></strong></p>
</div><div id="ad3_4">

<h4 id="ah3_4">3. 4</h4>

<p><strong>обращение( [ ], [ ]).</strong></p>

<p><strong>обращение( [Первый | Остальные], ОбращСпис): -<br>
&nbsp;&nbsp;&nbsp; обращение( Остальные,
ОбращСписОстальных),<br>
конк( О6ращСписОстальных, [Первый], ОбращСпис)<a
name="ap3_5">.</a></strong></p>
</div><div id="ad3_5">

<h4 id="ah3_5">3. 5</h4>

<p><small>% Такой предикат легко определить при
помощи отношения <strong>обратить</strong></small></p>

<p><strong>палиндром( Список) :-<br>
&nbsp;&nbsp;&nbsp; обратить( Список, Список).</strong></p>

<p><small>% Вот другое решение, не использующее <strong>обратить</strong></small></p>

<p><strong>палиндром1( [ ] ).</strong></p>

<p><strong>палиндром1( [ _ ] ).</strong></p>

<p><strong>палиндром1 [Первый | Остальные] ) :-<br>
&nbsp;&nbsp;&nbsp; конк( Середина, [Первый], Остальные),<br>
&nbsp;&nbsp;&nbsp; палиндром1( Середина)<a name="ap3_6">.</a></strong></p>
</div><div id="ad3_6">

<h4 id="ah3_6">3. 6</h4>

<p><strong>сдвиг( [Первый | Остальные], Сдвинут) :-<br>
&nbsp;&nbsp;&nbsp; конк( Остальные, [Первый], Сдвинут)<a
name="ap3_7">.</a></strong></p>
</div><div id="ad3_7">

<h4 id="ah3_7">3. 7</h4>

<p><strong>перевод( [ ], [ ]).</strong></p>

<p><strong>перевод( [Голова | Хвост], [Голова1 | Хвост1]) :-<br>
&nbsp;&nbsp;&nbsp; означает( Голова, Голова1),<br>
&nbsp;&nbsp;&nbsp; перевод( Хвост, Хвост1)<a name="ap3_8">.</a></strong></p>
</div><div id="ad3_8">

<h4 id="ah3_8">3. 8</h4>

<p><strong>подмножество( [ ], [ ] ).</strong></p>

<p><strong>подмножество( [Первый | Остальные], [Первый |
Подмн]):-</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Оставить первый элемент в подмножестве</small><br>
&nbsp;&nbsp;&nbsp; <strong>подмножество( Остальные, Подмн).</strong></p>

<p><strong>подмножество( [Первый | Остальные], Подмн) :-</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Убрать первый элемент из подмножества</small><br>
&nbsp;&nbsp;&nbsp; <strong>подмножество( Остальные, Подмн)<a
name="ap3_9">.</a></strong></p>
</div><div id="ad3_9">

<h4 id="ah3_9">3. 9</h4>

<p><strong>разбиениесписка( [ ], [ ], [ ]).</strong>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Разбивать нечего</small></p>

<p><strong>разбиениесписка( [X], [X], [ ]).</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Разбиение одноэлементного списка</small></p>

<p><strong>разбиениесписка( [X, Y | Список], [Х | Список1],<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
[Y | Список2]) :-<br>
&nbsp;&nbsp;&nbsp; разбиениесписка( Список, Список1,
Список2)<a name="ap3_10">.</a></strong></p>
</div><div id="ad3_10">

<h4 id="ah3_10">3. 10</h4>

<p><strong>можетзавладеть( состояние( _, _, _, имеет), [ ] ).</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Ничего не надо делать</small></p>

<p><strong>можетзавладеть( Состояние, [Действие |
Действия]):-<br>
&nbsp;&nbsp;&nbsp; ход( Состояние, Действие,
НовоеСостояние),</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Первое действие</small><br>
&nbsp;&nbsp;&nbsp; <strong>можетзавладеть( НовоеСостояние,
Действия).</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Оставшиеся <a name="ap3_11">действия</a></small></p>
</div><div id="ad3_11">

<h4 id="ah3_11">3. 11</h4>

<p><strong>линеаризация( [Голова | Хвост],
ЛинейныйСписок ) :-</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Линеаризация непустого списка</small><br>
&nbsp;&nbsp;&nbsp; <strong>линеаризация( Голова,
ЛинейнаяГолова ),<br>
&nbsp;&nbsp;&nbsp; линеаризация( Хвост, ЛинейныйХвост ),<br>
&nbsp;&nbsp;&nbsp; конк( ЛинейнаяГолова, ЛинейныйХвост,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ЛинейныйСписок ).</strong></p>

<p><strong>линеаризация( [ ], [ ] ).</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Линеаризация пустого списка</small></p>

<p><strong>линеаризация( X, [X] ).</strong><br>
<small>&nbsp;&nbsp; </small>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Линеаризация объекта, не являющегося
списком</small> </p>

<p><small>% Замечание: при попытке получить от этой
программы более <br>
% одного варианта решения выдается <a name="ap3_12">бессмыслица</a></small></p>
</div><div id="ad3_12">

<h4 id="ah3_12">3. 12</h4>

<p><strong>Терм1 = играет_в( джимми, и( футбол, сквош) )<br>
Терм2 = играет_в( сьюзан, и( теннис,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
и( баскетбол, волейбол) ) <a name="ap3_13">)</a></strong></p>
</div><div id="ad3_13">

<h4 id="ah3_13">3. 13</h4>

<p><strong>:- ор( 300, xfx, работает)<br>
:- ор( 200, xfx, в)<br>
:- ор( 100, xfx, нашем<a name="ap3_14">)</a></strong></p>
</div><div id="ad3_14">

<h4 id="ah3_14">3. 14</h4>

<p>(a)&nbsp;&nbsp;&nbsp; А = 1 + 0<br>
(b)&nbsp;&nbsp;&nbsp; В = 1 + 1 + 0<br>
(c)&nbsp;&nbsp;&nbsp; С = 1 + 1 + 1 + 1 + 0<br>
(d)&nbsp;&nbsp;&nbsp; D = 1 + 1 + 0 + <a name="ap3_15">1</a></p>
</div><div id="ad3_15">

<h4 id="ah3_15">3. 15</h4>

<p><strong>:- ор( 100, xfx, входит_в)<br>
:- ор( 300, fx, конкатенация_списков)<br>
:- ор( 200, xfx, дает)<br>
:- ор( 100, xfx, и)<br>
:- ор( 300, fx, удаление_элемента)<br>
:- ор( 100, xfx, из_списка)</strong>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Принадлежность к списку</small></p>

<p><strong>Элемент входит_в [Элемент | Список].<br>
Элемент входит_в [Первый | СписокОстальных] :-<br>
Элемент входит_в СписокОстальных.</strong></p>

<p><small>% Конкатенация списков</small></p>

<p><strong>конкатенация_списков [ ] и Список дает
Список.</strong></p>

<p><strong>конкатенация_списков [X | L1] и L2 дает [X | L3] :-<br>
&nbsp;&nbsp;&nbsp; конкатенация_списков L1 и L2 дает L3.</strong></p>

<p><small>% Удаление элемента из списка</small></p>

<p><strong>удаление_элемента Элемент иэ_списка<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [Элемент |
ОстальныеЭлементы]<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; дает
ОстальныеЭлементы.</strong></p>

<p><strong>удаление_элемента Элемент из_списка<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [Первый |
ОстальныеЭлементы]<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; дает [Первый |
НовСписОстЭлементов] :-<br>
&nbsp;&nbsp;&nbsp; удаление_элемента Элемент из_списка<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
ОстальныеЭлементы дает НовСписОстЭлементов<a
name="ap3_16">.</a></strong></p>
</div><div id="ad3_16">

<h4 id="ah3_16">3. 16</h4>

<p><strong>max( X, Y, X) :-<br>
&nbsp;&nbsp;&nbsp; X &gt;= Y.</strong></p>

<p><strong>max( X, Y, Y) :-<br>
&nbsp;&nbsp;&nbsp; X &lt;Y<a name="ap3_17">.</a></strong></p>
</div><div id="ad3_17">

<h4 id="ah3_17">3. 17</h4>

<p><strong>максспис( [X], X).</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Максимум в одноэлементном списке</small><br>
<strong>максспис( [X, Y | Остальные], Мах) :-</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% В списке есть по крайней мере два элемента?</small><br>
<strong>&nbsp;&nbsp;&nbsp; максспис( [Y | Остальные],
МаксОстальные),</strong><br>
<strong>&nbsp;&nbsp;&nbsp; mах( X, МаксОстальные, Мах).</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Мах наибольшее из чисел X и <a name="ap3_18">МаксОстальные</a></small></p>
</div><div id="ad3_18">

<h4 id="ah3_18">3. 18</h4>

<p><strong>сумспис( [ ], 0).</strong></p>

<p><strong>сумспис( [Первый | Остальные], Сумма) :-<br>
&nbsp;&nbsp;&nbsp; сумспис( Остальные, СуммаОстальных),<br>
&nbsp;&nbsp;&nbsp; Сумма is Первый + СуммаОстальных<a
name="ap3_19">.</a></strong></p>
</div><div id="ad3_19">

<h4 id="ah3_19">3. 19</h4>

<p><strong>упорядоченный ([ ]).</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Одноэлементный список является
упорядоченным</small></p>

<p><strong>упорядоченный( [X, Y | Остальные] :-<br>
&nbsp;&nbsp;&nbsp; X =&lt; Y,<br>
&nbsp;&nbsp;&nbsp; упорядоченный( [Y | Остальные] )<a name="ap3_20">.</a></strong></p>
</div><div id="ad3_20">

<h4 id="ah3_20">3. 20</h4>

<p><strong>подсумма( [ ], 0, [ ]).</strong></p>

<p><strong>подсумма( [N | Список], Сумма, [N | Подмн]) :-</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% N принадлежит подмножеству</small><br>
&nbsp;&nbsp;&nbsp; <strong>Сумма1 is Сумма - N,<br>
&nbsp;&nbsp;&nbsp; подсумма( Список, Сумма1, Подмн).</strong></p>

<p><strong>подсумма( [N | Список], Сумма, Подмн) :-</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% N не принадлежит подмножеству</small><br>
&nbsp;&nbsp;&nbsp; <strong>подсумма( Список, Сумма, Подмн)<a
name="ap3_21">.</a></strong></p>
</div><div id="ad3_21">

<h4 id="ah3_21">3. 21</h4>

<p><strong>между( N1, N2, N1) :-<br>
&nbsp;&nbsp;&nbsp; N1 =&lt; N2.</strong></p>

<p><strong>между( N1, N2, X) :-<br>
&nbsp;&nbsp;&nbsp; N1 &lt; N2,<br>
&nbsp;&nbsp;&nbsp; HoвoeNl is N1 + 1,<br>
&nbsp;&nbsp;&nbsp; между( HoвoeNl, N2, X)<a name="ap3_22">.</a></strong></p>
</div><div id="ad3_22">

<h4 id="ah3_22">3. 22</h4>

<p><strong>:- ор( 900, fx, если).<br>
:- ор( 800, xfx, то).<br>
:- ор( 700, xfx, иначе).<br>
:- ор( 600, xfx, :=).<br>
если Вел1 &gt; Вел2 то Перем := Вел3<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
иначе ЧтоУгодно :-<br>
&nbsp;&nbsp;&nbsp; Вел1 &gt; Вел2,<br>
&nbsp;&nbsp;&nbsp; Перем = Вел3.</strong></p>

<p><strong>если Вел1 &gt; Вел2 то ЧтоУгодно<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
иначе Перем := Вел4 :-<br>
&nbsp;&nbsp;&nbsp; Вел1 =&lt; Вел2,<br>
&nbsp;&nbsp;&nbsp; Перем = Вел4.</strong></p>
</div>

<h4>Глава <a name="ap4_1">4</a></h4>
<div id="ad4_1">

<h4 id="ah4_1">4. 1</h4>

<p>(a)&nbsp;&nbsp;&nbsp; <strong>?-&nbsp; семья(членсемьи( _,
Фамилия, _, _ ), _, [ ]).</strong></p>

<p>(b)&nbsp;&nbsp;&nbsp; <strong>?-&nbsp; ребенок( членсемьи( Имя,
Фамилия, _, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
работает( _, _ ) )).</strong></p>

<p>(c)&nbsp;&nbsp;&nbsp; <strong>семья(членсемьи( _, Фамилия, _,
неработает),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
членсемьи( _, _, _, работает( _, _ ) ),_ ).</strong></p>

<p>(d)&nbsp;&nbsp;&nbsp; <strong>?-&nbsp; семья( Муж, Жена, Дети),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
датарождения( Муж, дата( _, _, Год1) ),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
датарождения( Жена, дата( _, _, Год2) ),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( Год1 - Год2
&gt;= 15;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Год2 -
Год1 &gt;= 15 ),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; принадлежит(
Ребенок, Дети)<a name="ap4_2">.</a></strong></p>
</div><div id="ad4_2">

<h4 id="ah4_2">4. 2</h4>

<p><strong>близнецы( Ребенок1, Ребенок2) :-<br>
&nbsp;&nbsp;&nbsp; семья( _, _, Дети),<br>
&nbsp;&nbsp;&nbsp; удалить( Ребенок1, Дети, ДругиеДети),</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Выделить первого ребенка</small><br>
<strong>&nbsp;&nbsp;&nbsp; принадлежит( Ребенок2, ДругиеДети),<br>
&nbsp;&nbsp;&nbsp; принадлежит( Ребенок1, Дата),<br>
&nbsp;&nbsp;&nbsp; принадлежит( Ребенок2, Дата)<a name="ap4_3">.</a></strong></p>
</div><div id="ad4_3">

<h4 id="ah4_3">4. 3</h4>

<p><strong><em>n</em>_элемент( 1, [X | L], X).</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% X - первый элемент списка [X | L]</small></p>

<p><strong><em>n</em>_элемент( N, [Y | L], X) :-</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% X - n-й элемент [Y | L]</small></p>

<p><strong>N1 is N - 1,<br>
<em>n</em>_элемент( N1, L, X)<a name="ap4_4">.</a></strong></p>
</div><div id="ad4_4">

<h4 id="ah4_4">4. 4</h4>

<p>Входная цепочка укорачивается на каждом
неспонтанном цикле, а укорачиваться бесконечно
она не может<a name="ap4_5">.</a></p>
</div><div id="ad4_5">

<h4 id="ah4_5">4. 5</h4>

<p><strong>допускается( S, [ ], _ ) :-<br>
&nbsp;&nbsp;&nbsp; конечное( S).</strong></p>

<p><strong>допускается( S, [X | Остальные],
Макс_переходов) :-<br>
&nbsp;&nbsp;&nbsp; Макс_переходов &gt; 0,<br>
&nbsp;&nbsp;&nbsp; переход( S, X, S1),<br>
&nbsp;&nbsp;&nbsp; НовыйМакс is Макс_переходов - 1,<br>
&nbsp;&nbsp;&nbsp; допускается( S1, Остальные, НовыйМакс).</strong></p>

<p><strong>допускается( S, Цепочка, Макс_переходов) :-<br>
&nbsp;&nbsp;&nbsp; Макс_переходов &gt; 0,<br>
&nbsp;&nbsp;&nbsp; спонтанный( S, S1),<br>
&nbsp;&nbsp;&nbsp; НовыйМакс is Макс_переходов - 1,<br>
&nbsp;&nbsp;&nbsp; допускается( S1, Цепочка, НовыйМакс)<a
name="ap4_7">.</a></strong></p>
</div><div id="ad4_7">

<h4 id="ah4_7">4. 7</h4>

<p>(а)&nbsp;&nbsp;&nbsp; <strong>ходконя( X/Y, X1/Y1) :-</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Ход коня с поля X/Y на поле X1/Y1</small><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>( dxy( DX, DY);</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Расстояния по направлениям X и Y</small><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>dxy(
DY, DX) ),</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Или расстояния по направлениям Y и X</small><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>X1 is X + DX,</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% X1 расположен в пределах шахматной доски</small><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>надоске(
X1),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Y1 is Y + DY,</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Y1 расположен в пределах шахматной доски</small><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>надоске(
Y1).</strong></p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>dxy( 2, 1).</strong>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <small>% 2 поля
вправо, 1 поле вперед</small><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>dxy( 2, -1).</strong>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <small>% 2 поля
вправо, 1 поле назад</small><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>dxy( -2, 1).</strong>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <small>% 2 поля
влево, 1 поле вперед</small><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>dxy( -2, -1).</strong>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <small>% 2 поля влево, 1
поле назад</small></p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>надоске( Коорд) :-</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Координаты в пределах доски</small><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>0 &lt;
Коорд,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Коорд &lt; 9.</strong></p>

<p>(b)&nbsp;&nbsp;&nbsp; <strong>путьконя( [ Поле]).</strong>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <small>% Конь стоит на поле
Поле</small><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>путьконя(
[S1, S2 | Остальные] ) :-<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ходконя( S1,
S2),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; путьконя( [S2 |
Остальные]).</strong></p>

<p>(c)&nbsp;&nbsp;&nbsp; <strong>?-&nbsp; путьконя( [2/1, R, 5/4, S, Х/8] ).</strong></p>
</div>

<h4>Глава <a name="ap5_1">5</a></h4>
<div id="ad5_1">

<h4 id="ah5_1">5. 1</h4>

<p>(a)&nbsp;&nbsp;&nbsp; <strong>X = 1;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; X = 2</strong></p>

<p>(b)&nbsp;&nbsp;&nbsp; <strong>X = 1;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Y = 1;</strong></p>

<p><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; X = 1;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Y = 2;</strong></p>

<p><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; X = 2;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Y = 1;</strong></p>

<p><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; X = 2<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Y = 2;</strong></p>

<p>(c)&nbsp;&nbsp;&nbsp; <strong>X = 1;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Y = 1;</strong></p>

<p><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; X = 1;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Y = 2<a name="ap5_2">;</a></strong></p>
</div><div id="ad5_2">

<h4 id="ah5_2">5. 2</h4>

<p><strong>класс( Число, положительное) :-<br>
&nbsp;&nbsp;&nbsp; Число &gt; 0,&nbsp; !.</strong></p>

<p><strong>класс( 0, нуль) :-&nbsp; !.</strong></p>

<p><strong>класс( Число, отрицательное)<a name="ap5_3">.</a></strong></p>
</div><div id="ad5_3">

<h4 id="ah5_3">5. 3</h4>

<p><strong>разбить( [ ], [ ], [ ]).</strong></p>

<p><strong>разбить( [X | L], [X | L1], L2) :-<br>
&nbsp;&nbsp;&nbsp; X &gt;= 0,&nbsp; !,<br>
&nbsp;&nbsp;&nbsp; разбить( L, L1, L2).</strong></p>

<p><strong>разбить( [X | L], L1, [X | L2]) .<br>
&nbsp;&nbsp;&nbsp; разбить( L, L1, L2)<a name="ap5_4">.</a></strong></p>
</div><div id="ad5_4">

<h4 id="ah5_4">5. 4</h4>

<p><strong>принадлежит( Некто, Кандидаты),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; not принадлежит( Некто,
Исключенные)</strong></p>
</div><div id="ad5_5">

<h4 id="ah5_5">5. 5</h4>

<p><strong>разность( [ ], _, [ ]).</strong></p>

<p><strong>разность( [X | L1], L2, L):-<br>
&nbsp;&nbsp;&nbsp; принадлежит( X, L2),&nbsp; !,<br>
&nbsp;&nbsp;&nbsp; разность( L1, L2, L).</strong></p>

<p><strong>разность( [X | L1], L2, [X | L]) :-<br>
&nbsp;&nbsp;&nbsp; разность( L1, L2, L)<a name="ap5_6">.</a></strong></p>
</div><div id="ad5_6">

<h4 id="ah5_6">5. 6</h4>

<p><strong>унифицируемые( [ ], _, [ ]).</strong></p>

<p><strong>унифицируемые( [Первый | Остальные], Терм,
Список) : -<br>
&nbsp;&nbsp;&nbsp; not( Первый = Терм),&nbsp; !,<br>
&nbsp;&nbsp;&nbsp; унифицируемые( Остальные, Терм,
Список).</strong></p>

<p><strong>унифицируемые( [Первый | Остальные], Терм,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
[Первый | Список] ) :-<br>
&nbsp;&nbsp;&nbsp; унифицируемые( Остальные, Терм,
Список).</strong></p>
</div>

<h4>Глава <a name="ap6_1">6</a></h4>
<div id="ad6_1">

<h4 id="ah6_1">6. 1</h4>

<p><strong>найтитерм( Терм) :-</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Пусть текущий входной поток - это файл f</small><br>
&nbsp;&nbsp;&nbsp; <strong>read( Терм),&nbsp; !,</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Текущий терм из f сопоставим с Терм'ом?</small><br>
&nbsp;&nbsp;&nbsp; <strong>write( Терм);</strong>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Если да - вывести его на терминал</small><br>
&nbsp;&nbsp;&nbsp; <strong>найтитерм( Терм).</strong>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <small>% В противном случае - <a
name="ap6_2">обработать</a></small></p>
</div><div id="ad6_2">

<h4 id="ah6_2">6. 2</h4>

<p><strong>найтитермы( Терм) :-<br>
&nbsp;&nbsp;&nbsp; read( ТекущийТерм),<br>
&nbsp;&nbsp;&nbsp; обработать( ТекущийТерм, Терм).</strong></p>

<p><strong>обработать( end_of_file, _ ) :-&nbsp; !.</strong></p>

<p><strong>обработать( ТекущийТерм, Терм) :-<br>
&nbsp;&nbsp;&nbsp; ( not( ТекущийТерм = Терм),&nbsp; !;<br>
</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Термы несопоставимы</small><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>write( ТекущийТерм), nl),</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% В противном случае вывести текущий терм</small><br>
&nbsp;&nbsp;&nbsp; <strong>найтивсетермы( Терм).</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Обработать оставшуюся часть <a name="ap6_4">файла</a></small></p>
</div><div id="ad6_4">

<h4 id="ah6_4">6. 4</h4>

<p><strong>начинается( Атом, Символ) :-<br>
&nbsp;&nbsp;&nbsp; name( Символ, [ Код]),<br>
&nbsp;&nbsp;&nbsp; name( Атом, [Код | _ ])<a name="ap6_5">.</a></strong></p>
</div><div id="ad6_5">

<h4 id="ah6_5">6. 5</h4>

<p><strong>plural( Существительное, Существительные) :-<br>
&nbsp;&nbsp;&nbsp; name( Существительное, СписокКодов),<br>
&nbsp;&nbsp;&nbsp; name( s, КодS),<br>
&nbsp;&nbsp;&nbsp; конк( СписокКодов, КодS,
НовыйСписокКодов),<br>
&nbsp;&nbsp;&nbsp; name( Существительные,
НовыйСписокКодов).</strong></p>
</div>

<h4>Глава <a name="ap7_2">7</a></h4>
<div id="ad7_2">

<h4 id="ah7_2">7. 2</h4>

<p><strong>добавить( Элемент, Список) :-<br>
&nbsp;&nbsp;&nbsp; var( Список),&nbsp; !,</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Переменная Список представляет пустой
список</small><br>
<strong>Список = [Элемент | Хвост].</strong></p>

<p><strong>добавить( Элемент, [ _ | Хвост]) :-<br>
&nbsp;&nbsp;&nbsp; добавить( Элемент, Хвост).</strong></p>

<p><strong>принадлежит( X, Список) :-<br>
&nbsp;&nbsp;&nbsp; var( Список),&nbsp; !,</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Переменная Список представляет пустой
список,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
% поэтому X не может ему принадлежать</small><br>
<strong>fail.</strong></p>

<p><strong>принадлежит( X, [X | Хвост]).</strong></p>

<p><strong>принадлежит( X, [ _ | Хвост] ) :-<br>
&nbsp;&nbsp;&nbsp; принадлежит( X, Хвост).</strong></p>
</div>

<h4>Глава <a name="ap8_2">8</a></h4>
<div id="ad8_2">

<h4 id="ah8_2">8. 2</h4>

<p><strong>добавить_в_конец( L1-[Элемент | Z2], Элемент, L1 -
Z2)<a name="ap8_3">.</a></strong></p>
</div><div id="ad8_3">

<h4 id="ah8_3">8. 3</h4>

<p><strong>обратить( А - Z, L - L) :-</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Результатом является пустой список,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
% если A-Z представляет пустой список</small><br>
&nbsp;&nbsp;&nbsp; <strong>А == Z,&nbsp; !.</strong></p>

<p><strong>обратить( [X | L] - Z, RL - RZ ) :-</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Непустой список</small><br>
&nbsp;&nbsp;&nbsp; <strong>обратить( L - Z, RL - [X | RZ].</strong></p>
</div>

<h4>Глава <a name="ap9_1">9</a></h4>
<div id="ad9_1">

<h4 id="ah9_1">9. 1</h4>

<p><strong>список( [ ]).</strong></p>

<p><strong>список( [ _ | Хвост]) :-<br>
&nbsp;&nbsp;&nbsp; список( Хвост)<a name="ap9_2">.</a></strong></p>
</div><div id="ad9_2">

<h4 id="ah9_2">9. 2</h4>

<p><strong>принадлежит( X, X затем ЧтоУгодно).</strong></p>

<p><strong>принадлежит( X, Y затем Спис) :-<br>
&nbsp;&nbsp;&nbsp; принадлежит( X, Спис)<a name="ap9_3">.</a></strong></p>
</div><div id="ad9_3">

<h4 id="ah9_3">9. 3</h4>

<p><strong>преобр( [ ], ничего_не_делать).</strong></p>

<p><strong>преобр( [Первый | Хвост], Первый затем
Остальные):-<br>
&nbsp;&nbsp;&nbsp; преобр( Хвост, Остальные)<a name="ap9_4">.</a></strong></p>
</div><div id="ad9_4">

<h4 id="ah9_4">9. 4</h4>

<p><strong>преобр( [ ], ПустСпис, _, ПустСпис).</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Случай пустого списка</small></p>

<p><strong>преобр( [Первый | Хвост], НовСпис, Функтор,
Пустой) :-<br>
&nbsp;&nbsp;&nbsp; НовСпис =.. [Функтор, Первый, НовХвост],<br>
&nbsp;&nbsp;&nbsp; преобр( Хвост, НовХвост, Функтор,
Пустой)<a name="ap9_8">.</a></strong></p>
</div><div id="ad9_8">

<h4 id="ah9_8">9. 8</h4>

<p><strong>сорт1( [ ], [ ]).</strong></p>

<p><strong>сорт1( [X], [X]).</strong></p>

<p><strong>сорт1( Спис, УпорСпис) :-<br>
&nbsp;&nbsp;&nbsp; разбить( Спис, Спис1, Спис2),</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Разбить на 2 прибл. равных списка</small><br>
&nbsp;&nbsp;&nbsp; <strong>сорт1( Спис1, Упор1),<br>
&nbsp;&nbsp;&nbsp; сорт1( Спис2, Упор2),<br>
&nbsp;&nbsp;&nbsp; слить( Упор1, Упор2, УпорСпис).</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Слить отсортированные списки</small><br>
<strong>разбить( [ ], [ ], [ ]).</strong></p>

<p><strong>разбить( [X], [X], [ ]).</strong></p>

<p><strong>разбить( [X, Y | L], [X | L1], [Y | L2]) :-</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% X и Y помещаются в разные списки</small><br>
&nbsp;&nbsp;&nbsp; <strong>разбить( L, L1, L2)<a name="ap9_9">.</a></strong></p>
</div><div id="ad9_9">

<h4 id="ah9_9">9. 9</h4>

<p>(а)&nbsp;&nbsp;&nbsp; <strong>двдерево( nil).</strong></p>

<p><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; двдерево( д( Лев,
Кор, Прав) ) :-<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; двдерево(
Лев),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; двдерево(
Прав)<a name="ap9_10">.</a></strong></p>
</div><div id="ad9_10">

<h4 id="ah9_10">9. 10</h4>

<p><strong>глубина( пусто, 0).</strong></p>

<p><strong>глубина( д( Лев, Кор, Прав), Г) :-<br>
&nbsp;&nbsp;&nbsp; глубина( Лев, ГЛ),<br>
&nbsp;&nbsp;&nbsp; глубина( Прав, ГП),<br>
&nbsp;&nbsp;&nbsp; макс( ГЛ, ГП, МГ),<br>
&nbsp;&nbsp;&nbsp; Г is МГ + 1.</strong></p>

<p><strong>макс( А, В, А) :-<br>
&nbsp;&nbsp;&nbsp; А &gt;= В,&nbsp; !.</strong></p>

<p><strong>макс( А, В, В)<a name="ap9_11">.</a></strong></p>
</div><div id="ad9_11">

<h4 id="ah9_11">9. 11</h4>

<p><strong>линеаризация( nil, [ ]).</strong></p>

<p><strong>линеаризация( д( Лев, Кор, Прав), Спис) :-<br>
&nbsp;&nbsp;&nbsp; линеаризация( Лев, Спис1),<br>
&nbsp;&nbsp;&nbsp; линеаризация( Прав, Спис2),<br>
&nbsp;&nbsp;&nbsp; конк( Спис1, [Кор | Спис2], Спис)<a name="ap9_12">.</a></strong></p>
</div><div id="ad9_12">

<h4 id="ah9_12">9. 12</h4>

<p><strong>максэлемент( д( _, Кор, nil), Кор) :-&nbsp; !.</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Корень - самый правый элемент</small></p>

<p><strong>максэлемент( д( _, _, Прав,), Макс) :-</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Правое поддерево непустое</small><br>
&nbsp;&nbsp;&nbsp; <strong>максэлемент( Прав, Макс)<a name="ap9_13">.</a></strong></p>
</div><div id="ad9_13">

<h4 id="ah9_13">9. 13</h4>

<p><strong>внутри( Элем, д( _, Элем, _ ), [ Элем]).</strong></p>

<p><strong>внутри( Элем, д( Лев, Кор, _ ), [Кор | Путь]) :-<br>
&nbsp;&nbsp;&nbsp; больше( Кор, Элем),<br>
&nbsp;&nbsp;&nbsp; внутри( Элем, Лев, Путь).</strong></p>

<p><strong>внутри( Элем,д( _, Кор, Прав), [Кор | Путь]) :-<br>
&nbsp;&nbsp;&nbsp; больше( Элем, Кор),<br>
&nbsp;&nbsp;&nbsp; внутри( Элем, Прав, Путь)<a name="ap9_14">.</a></strong></p>
</div><div id="ad9_14">

<h4 id="ah9_14">9. 14</h4>

<p><small>% Отображение двоичного дерева, растущего
сверху вниз<br>
% Предполагается, что каждая вершина занимает при
печати<br>
% один символ</small></p>

<p><strong>отобр( Дер) :-<br>
&nbsp;&nbsp;&nbsp; уровни( Дер, 0, да).</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Обработать все уровни</small><br>
<strong>уровни( Дер, Уров, нет) :-&nbsp; !.</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Ниже уровня Уров больше нет вершин</small><br>
<strong>уровни( Дер, Уров, да) :-</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Обработать все уровни, начиная с Уров</small><br>
&nbsp;&nbsp;&nbsp; <strong>вывод( Дер, Уров, 0, Дальше), nl,</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Вывести вершины уровня Уров</small><br>
&nbsp;&nbsp;&nbsp; <strong>Уров1 is Уров + 1,<br>
&nbsp;&nbsp;&nbsp; уровни( Дер, Уров1, Дальше).</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Обработать следующие уровни</small><br>
<strong>вывод( nil, _, _, _, _ ).</strong></p>

<p><strong>вывод( д( Лев, X, Прав), Уров, ГлубХ, Дальше) :-<br>
&nbsp;&nbsp;&nbsp; Глуб1 is ГлубХ + 1,<br>
&nbsp;&nbsp;&nbsp; вывод( Лев, Уров, Глуб1, Дальше),</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Вывод левого поддерева</small><br>
<strong>( Уров = ГлубХ,&nbsp; !,</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% X на нашем уровне?</small><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>write( X), Дальше = да;</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Вывести вершину, продолжить</small><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>write(' ') ),</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Иначе - оставить место</small><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>вывод( Прав, Уров,
Глуб1, Дальше).</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Вывод левого поддерева</small></p>
</div>

<h4>Глава <a name="ap10_1">10</a></h4>
<div id="ad10_1">

<h4 id="ah10_1">10. 1</h4>

<p><strong>внутри( Элем, л( Элем)).</strong>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <small>% Элемент
найден в листе</small></p>

<p><strong>внутри( Элем, в2( Д1, М, Д2) ):-</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Вершина имеет два поддерева</small><br>
&nbsp;&nbsp;&nbsp; <strong>больше( М, Элем),&nbsp; !,</strong>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <small>% Вершина не во
втором поддереве</small><br>
&nbsp;&nbsp;&nbsp; <strong>внутри( Элем, Д1);</strong>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <small>%
Поиск в первом поддереве</small><br>
&nbsp;&nbsp;&nbsp; <strong>внутри( Элем, Д2).</strong>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <small>%
Иначе - во втором поддереве</small></p>

<p><strong>внутри( Элем, в3( Д1, М2, Д2, М3, Д3) ):-</strong> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Вершина имеет три поддерева</small><br>
&nbsp;&nbsp;&nbsp; <strong>больше( М2, Элем),&nbsp; !,</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Элемент не во втором и не в третьем
поддереве</small><br>
&nbsp;&nbsp;&nbsp; <strong>внутри( Элем, Д1);</strong>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <small>%
Поиск в первом поддереве</small><br>
&nbsp;&nbsp;&nbsp; <strong>больше( М3, Элем),&nbsp; !,</strong>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <small>% Элемент не в третьем
поддереве</small><br>
&nbsp;&nbsp;&nbsp; <strong>внутри( Элем, Д2);</strong>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <small>%
Поиск во втором поддереве</small><br>
&nbsp;&nbsp;&nbsp; <strong>внутри( Элем, Д3).</strong>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <small>%
Поиск в третьем <a name="ap10_3">поддереве</a></small></p>
</div><div id="ad10_3">

<h4 id="ah10_3">10. 3</h4>

<p><strong>avl( Дер) :-<br>
&nbsp;&nbsp;&nbsp; аvl( Дер, Глуб).</strong>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <small>% Дер является
AVL-деревом глубины Глуб</small></p>

<p><strong>avl( nil, 0).</strong>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Пустое дерево&nbsp; -&nbsp;&nbsp; AVL -дерево глубины 0</small></p>

<p><strong>avl( д( Лев, Кор, Прав), Г) :-<br>
&nbsp;&nbsp;&nbsp; avl( Лев, ГЛ),<br>
&nbsp;&nbsp;&nbsp; avl( Прав, ГП),<br>
&nbsp;&nbsp;&nbsp; ( ГЛ is ГП; ГЛ is ГП + 1; ГЛ is ГП - 1),</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% Глубины поддеревьев примерно совпадают</small><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>макс( ГЛ, ГП, Г).</strong></p>

<p><strong>макс1( U, V, М) :-</strong>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% М = 1 + макс( U, V)</small><br>
&nbsp;&nbsp;&nbsp; <strong>U &gt; V,&nbsp; !, М is U + 1;<br>
&nbsp;&nbsp;&nbsp; М is V + 1.</strong></p>
</div>

<h4>Глава <a name="ap11_1">11</a></h4>
<div id="ad11_1">

<h4 id="ah11_1">11. 1</h4>

<p><strong>вглубину1( [Верш | Путь], [Верш | Путь]) :-<br>
&nbsp;&nbsp;&nbsp; цель( Верш).</strong></p>

<p><strong>вглубину1( [Верш | Путь], Решение) :-<br>
&nbsp;&nbsp;&nbsp; после( Верш, Верш1),<br>
&nbsp;&nbsp;&nbsp; not принадлежит( Верш1, Путь),<br>
&nbsp;&nbsp;&nbsp; вглубину1( [ Верш1, Верш | Путь], Решение)<a
name="ap11_6">.</a></strong></p>
</div><div id="ad11_6">

<h4 id="ah11_6">11. 6</h4>

<p><strong>решить( СтартМнож, Решение) :-</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% СтартМнож - множество стартовых вершин</small><br>
&nbsp;&nbsp;&nbsp; <strong>bagof( [Верш], принадлежит( Верш,
СтартМнож),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Пути),<br>
&nbsp;&nbsp;&nbsp; вширину( Пути, Решение).</strong> </p>
</div>

<hr>

<p align="center"><a href="ch16_4.htm">Назад</a> | <a href="index.htm">Содержание</a>
| <a href="glossary.htm">Вперёд</a></p>
</body>
<script language="JavaScript">

ha();

</script>

</html>
