<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>

<head>
<title>Глава 6. Пункт 3</title>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<script src="script.js" type="text/javascript"></script>
</head>

<body bgColor="#fff5ee">

<p align="center"><a href="ch6_2.htm">Назад</a> | <a href="index.htm">Содержание</a>
| <a href="ch6_4.htm">Вперёд</a></p>
<script language="JavaScript">double_line();</script>


<h4>6. 3.&nbsp;&nbsp;&nbsp; Обработка символов</h4>

<p>Символ записывается в текущий выходной поток
при помощи <a name="tn68">цели</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong><span id="t68">put( С)</span></strong></p>

<p>где С - символ, который нужно вывести, в
кодировке ASCII (число от 0 до 127), например, вопрос</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>?- put( 65), put( 66), put( 67).</strong></p>

<p>породит следующий вывод:</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>АВС</strong></p>

<p>65 - ASCII-код 'А', 66 - 'В', 67 - 'С'.</p>

<p>Одиночный символ можно считать из текущего
входного потока при помощи </a><a name="tn58">цели</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong><span id="t58">get0( С)</span></strong></p>

<p>Она вызывает чтение символа из входного потока,
и переменная С конкретизируется</a><a name="tn56">
ASCII-кодом этого символа. Вариантом предиката <strong>get0</strong>
является <strong><span id="t56">get</span></strong>, который
используется для чтения символов, отличных от
пробела. Поэтому цель</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>get( С)</strong></p>

<p>вызовет пропуск всех непечатаемых символов (в
частности пробелов) от текущей позиции во
входном потоке до первого печатаемого символа.
Этот символ затем тоже считывается и С
конкретизируется его ASCII-кодом.</p>

<p>В качестве примера использования предикатов,
переносящих одиночные символы, давайте
рассмотрим процедуру <strong>сжатие</strong>,
выполняющую следующую работу: считывание из
входного потока произвольного предложения и
вывод его же, но в форматированном виде - все
группы идущих подряд пробелов заменены на
одиночные пробелы. Для простоты будем считать,
что все предложения входного потока,
обрабатываемые процедурой <strong>сжатие</strong>,
оканчиваются точками, а слова в них отделены одно
от другого одним или несколькими пробелами, и
только ими. Тогда следующее предложение будет
допустимым:</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Робот&nbsp;&nbsp;&nbsp; пытался
&nbsp;&nbsp;&nbsp; налить&nbsp;&nbsp;&nbsp; вина&nbsp;&nbsp;&nbsp; из
&nbsp;&nbsp;&nbsp; бутылки.</p>

<p>Цель <strong>сжатие</strong> выведет его в таком виде:</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Робот пытался налить
вина из бутылки.</p>

<p>Процедура <strong>сжатие</strong> будет иметь такую же
структуру, как и процедуры обработки файлов из
предыдущего раздела. Сначала она прочтет первый
символ, выведет его, а затем завершит обработку, в
зависимости от того, каким был этот символ. Есть
три альтернативы, которые соответствуют
следующим случаям: символ является точкой,
пробелом или буквой. Взаимное исключение этих
трех альтернатив обеспечивается в программе
отсечениями:</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>сжатие :-<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
get0( С),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
put( С).<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
сделатьостальное( С).</strong></p>

<p><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; сделатьостальное(
46) :-&nbsp; !.</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% 46 -АSСII-код точки, Все сделано</small></p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>сделатьостальное(
32) :-&nbsp; !,</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<small>% 32 - ASCII-код пробела</small></p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<strong>get( С),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
put( С),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
сделатьостальное( С).</strong></p>

<p><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; сделатьостальное(
Буква) :-<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
сжатие.</strong></p>

<h4>Упражнение</h4>

<p><strong>6. 3.</strong>&nbsp;&nbsp;&nbsp; Обобщите процедуру
сжатие на случай запятых. Все пробелы, стоящие
непосредственно перед запятой, нужно убрать, а
после каждой запятой нужно поместить
единственный пробел.</p>

<hr>
</a>

<p align="center"><a href="ch6_2.htm">Назад</a> | <a href="index.htm">Содержание</a>
| <a href="ch6_4.htm">Вперёд</a></p>
</body>
<script language="JavaScript">

hl();

</script>

</html>
